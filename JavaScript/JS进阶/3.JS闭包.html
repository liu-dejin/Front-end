<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //闭包 = 内层函数+外层函数的变量 缺一不可
    // function outer() {
    //     let a = 10
    //     function fn() {
    //         console.log(a)
    //     }
    //     return fn
    // }
    // let fn = outer()
    // fn()

    //常见的闭包的形式,外部可以访问 函数内部的变量
    // function outer() {
    //     let a = 10
    //     function fn() {
    //         console.log(a)
    //     }
    //     return fn //返回函数
    // }
    // outer() === fn === function fn(){}
    // const fun = function(){ }
    // const fun = outer()
    // fun()
    //闭包的特点:
    //1.函数内部的变量可以被外部访问
    //2.函数内部的变量不会被垃圾回收机制回收
    //3.函数内部的变量可以被函数外部访问
    //4.函数内部的变量可以被函数内部访问

    //统计函数使用次数
    // let i = 0
    // function fn(){
    //     i++
    //     console.log(`函数被调用了${i}次`)
    // }
    //i是全局变量,容易被修改

    //闭包形式
    function count () {
        let i = 0
        function fn () {
            i++
            console.log(`函数被调用了${i}次`)
        }
        return fn
    }
    const fun = count()
    fun()
    fun()
</script>
</body>
</html>